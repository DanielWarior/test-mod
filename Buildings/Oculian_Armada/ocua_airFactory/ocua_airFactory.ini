
[core]
name: ocua_airFactory
displayText: Oculian Armada Fighter Factory
class: CustomUnitMetadata
price: 1000
maxHp: 1000
mass: 3000
footprint: -1,-1,1,1
constructionFootprint: -1,-1,1,1
buildingToFootprintOffsetX: 10
buildingToFootprintOffsetY: 15
techLevel: 1
buildSpeed: 15s
radius: 30
isBio: false
isBuilding: true
exit_x:0
exit_y:-1
exit_moveAwayAmount:90
canBuild_1_name: setRally
canBuild_1_pos:  1



[canBuild_1]
name: breeze, breeze_elite, cancer_missile, tick
pos: 1



[action_upgrade]
convertTo: ocua_airFactory_T2
price:  3000
text: Upgrade - T2
description:T2 Fighter Factory
displayType: upgrade
buildSpeed: 50s
pos: 0.2
attachments_deleteNumUnits: 1
attachments_addNewUnits: ocua_airFactory_t2_top
iconImage: SHARED:icon_upgrade.png

isVisible: if numberOfUnitsInTeam(withTag="T2_air") == 0

[action_upgrade_consecutive]
convertTo: ocua_airFactory_T2
price:  1500
text: Upgrade - T2
description:T2 Fighter Factory
displayType: upgrade
buildSpeed: 25s
pos: 0.2
attachments_deleteNumUnits: 1
attachments_addNewUnits: ocua_airFactory_t2_top
iconImage: SHARED:icon_upgrade.png

isVisible: if numberOfUnitsInTeam(withTag="T2_air") > 0

[hiddenAction_open]
autoTriggerOnEvent: queuedUnitFinished
temporarilyAddTags: open
resetCustomTimer: true



[hiddenAction_close]
autoTrigger: if self.customTimer(laterThanSeconds=1.5) and self.tags(includes='open')
temporarilyRemoveTags: open



[graphics]
total_frames: 7
image: ocua_airFactory.png
image_wreak: ocua_airFactory_dead.png
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2
animation_idle_start: 1
animation_idle_end: 6
animation_idle_speed: 27.5



[attachment_1]
x:0
y:0
isVisible:true
keepAliveWhenParentDies:false
setDrawLayerOnTop:true
addTransportedUnits:true
canBeAttackedAndDamaged:false
isUnselectable:true
canAttack: true
idleDir:0
idleDirReversing: 0
deattachIfWantingToMove: false
prioritizeParentsMainTarget:true
lockRotation:false
onCreateSpawnUnitOf: ocua_airFactory_top
rotateWithParent: true
resetRotationWhenNotAttacking: true



[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0



[movement]
movementType: HOVER
targetHeight: 4
targetHeightDrift: 1
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
maxTurnSpeed: 0
turnAcceleration: 0.1



[ai]
buildPriority: 0.40
noneInBaseExtraPriority: 0.15
noneGlobalExtraPriority: 0.15
maxEachBase:1
maxGlobal:6



[hiddenAction_upgradeAI]
autoTriggerOnEvent:completeAndActive
requireConditional:if self.hasResources(credits=2000) and self.isControlledByAI
alsoQueueAction:upgrade