[core]
overrideAndReplace:commandCenter

name: spawner
class: CustomUnitMetadata
maxHp: 100000
price: 1
mass: 1
radius: 50
isBuilding: true
explodeTypeOnDeath: building
tags:unready
isBuilder: true

@memory ready:boolean
@memory faction:number
[graphics]
image: spawner.png
drawLayer:bottom

[hiddenAction_readycheck]
autoTrigger:if numberOfUnitsInAllTeams(withTag="unready") <= 0
setUnitMemory:ready=true
showMessageToPlayer: All players ready, starting!

[hiddenAction_dominion]
autoTrigger:if memory.ready == true and memory.faction == 1
convertTo: Dominion_HQ

[hiddenAction_ocullian]
autoTrigger:if memory.ready== true and memory.faction== 2
convertTo: ocua_hq

[hiddenAction_fulgorian]
autoTrigger:if memory.ready== true and memory.faction== 3
convertTo: fg_hq

[action_ready]
isActive:if memory.faction != 0

description: Get ready for fightin

temporarilyRemoveTags:unready
showMessageToAllPlayers: %{self.playerName} is ready!
iconImage:ready_icon.png
ai_isHighPriority: true
autoTrigger:if self.isControlledByAI()

[action_choose_dominion]
setUnitMemory:faction = 1
price:0
description: Choose Dominion

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:dominion_icon.png
ai_isHighPriority: true



[action_choose_ocua]
setUnitMemory:faction = 2
price:0
description: Choose Oculian Armada

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:oculian_icon.png
ai_isHighPriority: true

[action_choose_fulgorian]
setUnitMemory:faction = 3
price:0
description: Choose Fulgorian

displayType: upgrade
buildSpeed: 10
pos: 0.2

iconImage:fulgorian_icon.png
ai_isHighPriority: true



[arm_1]
x: 0
y: 0

drawOverBody:true

image_end:dominion_sigil.png
hidden: if memory.faction != 1
[arm_2]
x: 0
y: 0

drawOverBody:true

image_end:oculian_sigil.png
hidden: if memory.faction != 2

image_end:fulgorian_sigil.png
hidden: if memory.faction != 3

[movement]
movementType: NONE
moveSpeed: 0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01

maxTurnSpeed: 0
turnAcceleration: 0.1

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0