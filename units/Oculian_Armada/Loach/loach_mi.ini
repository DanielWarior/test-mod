
[core]
name: loach_mi
displayText: Loach Mikanate
displayDescription: Mikanate Phase Fighter \n-Phase ability that allows the unit to become intangible \n-Equipped with far more firepower. \n-2x Compact Shena (60 dps 110 range\200% Shield Damage\25% Building Damage)\n-Glint (15 dps 150 range)
class: CustomUnitMetadata
price: 1000
maxHp: 500
mass: 1500
techLevel: 3
buildSpeed: 18s
radius: 15
isBio: false
softCollisionOnAll: 3
fogOfWarSightRange: 20
energyMax: 125
energyRegen: 0.2



[graphics]
total_frames: 5
image: loach_mi.png
image_wreak: loach_mi_dead.png
image_turret: NONE
imageScale:1
turretImageScale:1
lock_body_rotation_with_main_turret: false
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1



[attack]
turretRotateWithBody: true
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits: true
canAttackUnderwaterUnits: false
maxAttackRange: 110
shootDelay: 0.5s
turretMultiTargeting: true
isFixedFiring: true



[turret_1]
invisible: true
x: -3
y: 17
idleDir:0
projectile: 1
turnSpeed: 2.4
shoot_sound:ROOT:sounds\Oculian_Armada\ocua_shena_fire1.wav
shoot_sound_vol:0.2
aimOffsetSpread: 0
canAttackMaxAngle: 30
canOnlyAttackUnitsWithoutTags: missile



[turret_2]
invisible: true
x: 3
y: 17
idleDir:0
projectile: 1
turnSpeed: 2.4
shoot_sound:ROOT:sounds\Oculian_Armada\ocua_shena_fire1.wav
shoot_sound_vol:0.2
aimOffsetSpread: 0
canAttackMaxAngle: 30
canOnlyAttackUnitsWithoutTags: missile



[turret_3]
invisible: true
x: 0
y: 6
idleDir:0
projectile: beam
turnSpeed: 2
shoot_sound:ROOT:sounds\Oculian_Armada\ocua_glint_fire1.wav
shoot_sound_vol:0.125
aimOffsetSpread: 0
delay: 1s



[projectile_1]
directDamage: 15
shieldDamageMultiplier: 2
shieldDefectionMultiplier:0.9
buildingDamageMultiplier: 0.25
deflectionPower: 2
life: 300
speed: 6.67
drawSize: 1
color: #ff6478
lightColor: #ff6478
lightSize: 0.5



[projectile_beam]
directDamage: 15
deflectionPower: -1
life: 15
instant: true
beamImage: SHARED:beam3.png
beamImageEnd: SHARED:beam1_end.png
moveWithParent: true
explodeEffect: NONE
explodeEffectOnShield: NONE
color: #9bff9b



[action_phase]
whenBuilding_triggerAction: phasesound
buildSpeed: 0.5s
canPlayerCancel: false
whenBuilding_playAnimation: phasing
addEnergy: -10
convertTo: loach_mi_phase
text: Phase
description: \n-Puts the unit in another dimension, avoiding all attacks and increasing their movement by 3x \n-Cannot attack while in phase and loses movement speed buffs on lower energy
allowMultipleInQueue: false
ai_isDisabled: true
resetCustomTimer: true



[hiddenAction_phasesound]
buildSpeed: 0s
playSoundAtUnit: ROOT:sounds\Oculian_Armada\phase_cloak_activate.ogg



[hiddenAction_phasemovement]
autoTrigger: if self.isControlledByAi() and self.isEnergyFull() and self.isMoving() and not self.tags(includes='phase') and not self.customTimer(withinSeconds=2)
buildSpeed: 0s
alsoQueueAction: phase



[hiddenAction_panicphase]
autoTrigger: if self.isControlledByAi() and self.energy(greaterThan=62.5) and self.hasTakenDamage(withinSeconds=2) and self.hp(greaterThan=175) and not self.tags(includes='phase') and not self.customTimer(withinSeconds=2)
buildSpeed: 0s
alsoQueueAction: phase



[hiddenAction_superpanicphase]
autoTrigger: if self.isControlledByAi() and self.energy(lessThan=62.5) and self.hasTakenDamage(withinSeconds=2) and self.hp(lessThan=175) and not self.tags(includes='phase') and not self.customTimer(withinSeconds=2)
buildSpeed: 0s
alsoQueueAction: phase



[animation_phasing]
blendIn: 1s
body_0s: {frame: 0, scale: 1}
body_0.125s: {frame: 1, scale: 1}
body_0.25s: {frame: 2, scale: 1}
body_0.375s: {frame: 3, scale: 1}
body_0.5s: {frame: 4, scale: 1}



[movement]
movementType: AIR
targetHeightDrift: 1
moveSpeed: 1.6
moveAccelerationSpeed: 0.04
moveDecelerationSpeed: 0.05333333333
reverseSpeedPercentage: 0
maxTurnSpeed: 2.4
turnAcceleration: 3.6
moveSlidingMode :true
moveIgnoringBody: true
slowDeathFall: true