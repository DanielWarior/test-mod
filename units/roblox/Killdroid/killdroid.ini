
[core]
name: killdroid
displayText: Killdroid
displayDescription: "NEW DIRECTIVE: BLAST TARGET TO SMITHEREENS."
class: CustomUnitMetadata
price: 10000
maxHp: 8800
mass: 1000
techLevel: 1
buildSpeed: 10s
radius: 10
isBio: false
fogOfWarSightRange: 30



[graphics]
total_frames: 7
image: killdroid.png
image_wreak: NONE
image_turret: NONE
lock_body_rotation_with_main_turret: true
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1
dustEffect: true
teamColorsOnTurret: false



[attack]
turretRotateWithBody: true
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: false
maxAttackRange: 500
shootDelay: 1.75s



[action_fly]
text: Flight
description: Lock in place for ~1 second, leaving a warning symbol in your place and take flight, making stunning with some abilities impossible. Being in the air gives you a crosshair on the nearest survivor, which can help find targets that are hiding. Shooting while flying also gives aim-bot, which can help kill cloaked people and help not miss. After a while, you'll fall down and hit the ground stunned for a couple of seconds. \n-Cooldown: 20 second
buildSpeed: 1s
canPlayerCancel: false
whenBuilding_cannotMove: true
addActionCooldownTime: 28s
whenBuilding_triggerAction: flysound
convertTo: killdroid_flying
resetCustomTimer: true



[action_deploy]
text: Deploy
description: Call a killbot that's stationary, which takes around ~4 seconds to execute. It has a limit of 3 killbots at once on the map (detonates the oldest one if the limit is reached) and you can't place them near each other. The killbot beeps and shows the beep number when a survivor is near it, highlights them, and turns black. After 5 beeps, it explodes and deals 25 damage to the survivor near it. Damage cannot be negated by baiting an explosion, nor a Block ability. \n-Cooldown: 15 seconds
buildSpeed: 4s
canPlayerCancel: false
whenBuilding_cannotMove: true
addActionCooldownTime: 19s
whenBuilding_triggerAction: deploysound
spawnUnits: killbot



[action_detonate]
text: Detonate
description: Killdroid locks in place for 1 second and disables all their moves and plays a loud alarm. After the windup, their stamina is locked at 100, they cannot regain stamina and gain a large speed boost, during this phase, they will constantly play different alarm and siren sounds that increase in frequency as they approach detonation. After 6 seconds they will then detonate in a shellshock, dealing 25 AoE damage to civilians and ragdolling themself, with any civilian that was not hit by the initial explosion but were in the shockwave of the detonation gaining significant slowness. This move also deals 125 self damage to Killdroid and they cannot be stunned and only instead knocked back. Their moves are unlocked 1.5s after detonation. This move is also set to partially bypass Block, at the cost of dealing less damage. \n-Cooldown: 25 seconds
buildSpeed: 1.5s
canPlayerCancel: false
whenBuilding_cannotMove: true
addActionCooldownTime: 25s
whenBuilding_triggerAction: detonatesound
convertTo: killdroid_detonating
resetCustomTimer: true



[hiddenAction_drown]
autoTrigger: if self.isInWater()
setUnitStats: hp = 0



[hiddenAction_flysound]
buildSpeed: 0s
playSoundAtUnit: fly.wav



[hiddenAction_deploysound]
buildSpeed: 0s
playSoundAtUnit: deploy.wav


[hiddenAction_detonatesound]
buildSpeed: 0s
playSoundGlobally: detonate.wav



[hiddenAction_unslowdown]
autoTrigger: if self.customTimer(laterThanSeconds=2)
resetUnitStats: true



[hiddenAction_slowdown]
setUnitStats: moveSpeed = 0.5
resetCustomTimer: true



[turret_1]
x: 0
y: 0
idleDir:0
canShoot: true
turnSpeed: 10
projectile: 1
warmup: 0.75s
warmupStartEffect: launch



[turret_slow]
x: 0
y: 0
attachedTo: 1
slave: 1
canShoot: true
turnSpeed: 10
projectile: dummy
delay: 2.5s
onShoot_triggerActions: slowdown



[projectile_dummy]
instant: false
life: 1
speed: 1
directDamage: 0
areaDamage: 0
areaRadius: 0


largeHitEffect: false
explodeEffect: NONE
explodeEffectOnShield: NONE
hitSound: false
invisible: true
trailEffect: false



[projectile_1]
targetGround: true
areaDamage: 250
areaRadius: 32
areaDamageNoFalloff: true
life: 600
speed: 7.5
drawSize: 1
image: missile.png
largeHitEffect: true



[effect_launch]
alsoPlaySound: launch.wav
life: 0



[animation_walking]
onActions: move
body_0s: {frame: 2, scale: 0.95}
body_0.125s: {frame: 3, scale: 0.975}
body_0.25s: {frame: 4, scale: 1}
body_0.375s: {frame: 5, scale: 0.95}
body_0.5s: {frame: 6, scale: 0.975}
body_0.675s: {frame: 7, scale: 1}
body_0.75s: {frame: 2, scale: 0.95}



[movement]
movementType: LAND
moveSpeed: 2.4
moveAccelerationSpeed: 2.4
moveDecelerationSpeed: 2.4
maxTurnSpeed: 10
turnAcceleration: 10
moveSlidingMode :true
moveIgnoringBody:true